#ECHO
T			DoEcho

#DESCRIPTION
Run GM and PC in time accurate mode

#PLANET
NONE			NamePlanet

#TIMEACCURATE
T			DoTimeAccurate

#PROGRESS
1			DnShowProgressShort
1			DnShowProgressLong


#COUPLE2
GM			NameCompMaster
PC			NameCompSlave
-1			DnCouple
0.7			DtCouple

#COUPLETIME
GM                      NameComp
F                       DoCoupleOnTime

#BEGIN_COMP GM ---------------------------------------------------------------

#GRIDGEOMETRY
rotatedcartesian	NameGeometry

USERMODULE
Waves and GEM, Yingjuan Ma
 1.30                  VersionUserModule

#CHECKGRIDSIZE
       8                nI
       8                nJ
       1                nK
     100                MinBlockALL

#IOUNITS
NONE			TypeIoUnit

#NORMALIZATION
NONE			TypeNormalization

#PLASMA
1.0			FluidMass 1 [amu]
4.0			FluidMass 2 [amu]
1.0             	IonCharge 1 [e]
1.0			IonCharge 2 [e]
1.0             	ElectronTemperatureRatio

#NONCONSERVATIVE
T			UseNonConservative

#UNIFORMSTATE
0.5			Rho1
0.03			Ux1
0.04			Uy1
0.0			Uz1
0.2			Bx
0.0			By
0.0			Bz
5.12E-4			Pe
2.56e-4			p1
0.5			Rho2
0.03			Ux2
0.04			Uy2
0.0			Uz2
2.56e-4			p2

#USERINPUTBEGIN ----------------

Whistler wave is cirularly polarized
for both ion fluids.

#WAVE
3                       UyIon1
10000.0                 Width
-0.0090663280           Amplitude  -0.01 for Alfven
32.0                    LambdaX
-1.0                    LambdaY
-1.0                    LambdaZ
-90.0                   Phase

#WAVE
4                       UzIon1
1000.0                  Width
+0.0090663280           Amplitude  +0.01 for Alfven
32.0                    LambdaX
-1.0                    LambdaY
-1.0                    LambdaZ
180.0                   Phase

#WAVE
12                      UyIon2
10000.0                 Width
-0.0090663280           Amplitude  -0.01 for Alfven
32.0                    LambdaX
-1.0                    LambdaY
-1.0                    LambdaZ
-90.0                   Phase

#WAVE
13                      UzIon2
1000.0                  Width
+0.0090663280           Amplitude  +0.01 for Alfven
32.0                    LambdaX
-1.0                    LambdaY
-1.0                    LambdaZ
180.0                   Phase

#WAVE
6                       By_
1000.0                  Width
0.01                    Amplitude
32.0                    LambdaX
-1.0                    LambdaY
-1.0                    LambdaZ
-90.0                   Phase

#WAVE
7                       Bz_
1000.0                  Width
-0.01                   Amplitude
32.0                    LambdaX
-1.0                    LambdaY
-1.0                    LambdaZ
180.0                   Phase

Put perturbations into pressures, but keep
total Pe+Pi1+Pi2 constant

#WAVE
8                       Pe_
1000.0                  Width
1e-4                    Amplitude
32.0                    LambdaX
-1.0                    LambdaY
-1.0                    LambdaZ
180.0                   Phase

#WAVE
9                       Pion1
1000.0                  Width
0.5e-4                  Amplitude
32.0                    LambdaX
-1.0                    LambdaY
-1.0                    LambdaZ
0.0                     Phase

#WAVE
14                      Pion2
1000.0                  Width
0.5e-4                  Amplitude
32.0                    LambdaX
-1.0                    LambdaY
-1.0                    LambdaZ
0.0                     Phase


#USERINPUTEND   ----------------

The grid is rotated by atan(3/4), the original shocktube is by -atan(4/3)
so now rotate by tan(atan(3/4)- atan(4/3))) = -7/24
#SHOCKPOSITION
0.0			ShockPosition
-7/24			ShockSlope

#GRID
32                    	nRootBlockX
24                     	nRootBlockY
1                     	nRootBlockZ
-160/3                  xMin
 160/3  		xMax
-160/4                 	yMin
 160/4                 	yMax
-0.5                  	zMin
 0.5                  	zMax

#FIXEDTIMESTEP
T			UseDtFixed
0.5		DtFixed


#PICUNIT
 1.0                    xUnitPicSi
 1.0                    uUnitPicSi

#PICREGION
1                       nPicRegion
-26.458333333           xMinCut
 26.458333333         	xMaxCut
-19.791666667           yMinCut
 19.791666667	     	yMaxCut
1.25/3			DxPic
1.25/3			DyPic

#OUTERBOUNDARY
periodic                TypeBcEast
periodic                TypeBcWest
periodic                TypeBcSouth
periodic                TypeBcNorth
float                   TypeBcBottom
float                   TypeBcTop

#HALLRESISTIVITY
T			UseHallResistFlux
1.0			HallFactor
0.0			HallCmaxFactor

#TEST
init_hall_resist	TestString

#DIVBSOURCE
F			UseB0Source

#SCHEME
2			nOrder
Rusanov			TypeFlux
mc			TypeLimiter
1.5			BetaLimiter

RK
3			nStage
0.8			CflExpl

#TIMESTEPPING
2                       nStage
0.8                     CflExpl

#IMPLICIT
F                       UsePointImplicit
F                       UsePartImplicit
T                       UseFullImplicit
100.0                   ImplCFL

#SAVELOGFILE
T			DoSaveLogfile
raw			StringLog
1			DnSaveLogfile
-1.			DtSaveLogfile

#SAVEINITIAL
T			DoSaveInitial

#SAVEPLOT
1
z=0 all idl_ascii       StringPlot
1			DnOutput
-0.05			DtOutput
0.			DxOutput

#END_COMP GM -----------------------------------------------------------------

#BEGIN_COMP PC ---------------------------------------------------------------

#ELECTRON
-100.0                                  Charge/mass ratio (qom)


#TIMESTEPPING
F					UseSWMFDt
F					UseFixedDt
0.5					CflLimit

#PARTICLES
10					Particles per cell in X
10					Particles per cell in Y
1					Particles per cell in Z

#SOLVER
1.0e-6					CGtol : CG solver stopping criterium tolerance
1.0e-6					GMREStol : GMRES solver stopping criterium tolerance
3					NiterMover : mover predictor corrector iteration

#SAVEPLOT
PC/plots				SaveDirName
1					FieldOutputCycle
0					ParticlesOutputCycle
0					DiagnosticsOutputCycle
0					FieldOutputCycleASCII
0					SatelliteOutputCycle
0					OutputFormat (HDF=0, VTK=1)

#END_COMP PC -----------------------------------------------------------------

#STOP
-1			MaxIter
2.0     		TimeMax


